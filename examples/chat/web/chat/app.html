
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>chat</title>
</head>
<body>
<div id="controls">


<button onclick="chChat.sendChangeName({})">Send Chat.ChangeName</button>

<button onclick="chChat.sendMessage({})">Send Chat.Message</button>


</div>
<div id="output"></div>
<script src="../../../../eddclient.js"></script>
<script src="../../gen/chat/channel.js"></script>
<script>
  var wsUri = "ws://localhost:3000/chat"
  var client = new EddClient(wsUri)

  var chChat = new ChatChannel()

  chChat.onChangeName(function (event){
      document.getElementById("output").innerHTML += "Event 'ChangeName' received: " + JSON.stringify(event) + "<br>"
  })

  chChat.onMessage(function (event){
      document.getElementById("output").innerHTML += "Event 'Message' received: " + JSON.stringify(event) + "<br>"
  })

  chChat.onUserEnter(function (event){
      document.getElementById("output").innerHTML += "Event 'UserEnter' received: " + JSON.stringify(event) + "<br>"
  })

  chChat.onUserLeft(function (event){
      document.getElementById("output").innerHTML += "Event 'UserLeft' received: " + JSON.stringify(event) + "<br>"
  })

  chChat.onUserListUpdate(function (event){
      document.getElementById("output").innerHTML += "Event 'UserListUpdate' received: " + JSON.stringify(event) + "<br>"
  })

  client.register(chChat)


  client.start()

</script>
</body>
</html>

